(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Vue3Geetest={},t.Vue))})(this,function(t,e){"use strict";const a=["id"],c=e.defineComponent({__name:"GeetestCaptcha",props:{config:{}},emits:["initialized"],setup(i,{emit:s}){const f=e.inject("geetest-config"),p=i,u=s,d=e.ref(`captcha-${Date.now()}`),m={...f,...p.config},g=()=>{const n=document.getElementById("geetest");if(n&&window.initGeetest4){r();return}n&&n.remove();const o=document.createElement("script");o.id="geetest",o.src="https://static.geetest.com/v4/gt4.js",o.onload=()=>{r()},o.onerror=()=>{console.error("Failed to load Geetest")},document.head.appendChild(o)},r=()=>{window.initGeetest4?window.initGeetest4(m,n=>{n.appendTo(`#${d.value}`),u("initialized",n)}):console.error("Geetest not loaded or initGeetest4 is not available")};return e.onMounted(()=>{g()}),(n,o)=>(e.openBlock(),e.createElementBlock("div",{id:d.value},null,8,a))}}),l={install(i,s){i.component("GeetestCaptcha",c),s&&i.provide("geetest-config",s)}};t.Geetest=l,t.GeetestCaptcha=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
