(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Vue3Geetest={},t.Vue))})(this,function(t,e){"use strict";const a=["id"],c=e.defineComponent({__name:"GeetestCaptcha",props:{config:{}},emits:["initialized"],setup(o,{emit:i}){const f=e.inject("geetest-config"),p=o,u=i,d=e.ref(`captcha-${Date.now()}`),m={...f,...p.config},g=()=>{if(document.getElementById("geetest")){r();return}const n=document.createElement("script");n.id="geetest",n.src="https://static.geetest.com/v4/gt4.js",n.onload=()=>{r()},n.onerror=()=>{console.error("Failed to load Geetest")},document.head.appendChild(n)},r=()=>{window.initGeetest4?window.initGeetest4(m,s=>{s.appendTo(`#${d.value}`),u("initialized",s)}):console.error("Geetest not loaded or initGeetest4 is not available")};return e.onMounted(()=>{g()}),(s,n)=>(e.openBlock(),e.createElementBlock("div",{id:d.value},null,8,a))}}),l={install(o,i){o.component("GeetestCaptcha",c),i&&o.provide("geetest-config",i)}};t.Geetest=l,t.GeetestCaptcha=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
